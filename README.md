#  Mobile UI Tests

**Автотесты для Android (Java + Selenide + Appium + UIAutomator2).**

#  Подготовка


Запустить эмулятор:

* android 11, api 30

* командой adb devices посмотреть device.name

В mobile.properties указать параметры устройства:

* appium.url=http://127.0.0.1:4723/
* platform.version=11
* device.name=emulator-5554

(при необходимости изменить device.name)

# Запуск

Запустить Appium:

* appium

Запустить тесты:

* mvn clean test

_**Обработка рекламы**_

В некоторых случаях активность
com.yandex.mobile.ads.common.AdActivity:

* не предоставляет стабильные элементы для взаимодействия через UIAutomator2,
* 
* может значительно замедлять выполнение поиска элементов,
* 
* может вызывать нестабильность тестовой сессии.
* 
* Для обеспечения стабильности теста реализована стратегия:
* 
* при обнаружении AdActivity выполняется возврат в приложение,
* 
* повторно инициируется просмотр рекламы,
* 
* итоговая проверка выполняется по факту увеличения количества подсказок.
* 
Таким образом тест валидирует бизнес-логику приложения независимо от поведения внешнего рекламного SDK.
